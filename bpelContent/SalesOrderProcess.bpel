<!-- SalesOrderProcess BPEL Process [Generated by the Eclipse BPEL Designer] -->
<!-- Date: Mon Mar 19 17:42:23 PKT 2018 -->
<bpel:process name="SalesOrderProcess"
         targetNamespace="salesorder"
         suppressJoinFailure="yes"
         xmlns:tns="salesorder"
         xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         xmlns:ns1="http://www.w3.org/2001/XMLSchema" xmlns:ns="http://createCartForCustomer.ofbiz.ws" xmlns:ns0="http://searchproduct.ofbiz.com" xmlns:ns2="http://getProductInventoryAvailable.ofbiz.com" xmlns:ns3="http://addcartitem.ofbiz.com">

    <!-- Import the client WSDL -->
    <bpel:import namespace="http://addcartitem.ofbiz.com" location="AddCartItem.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://searchproduct.ofbiz.com" location="SearchProduct.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://createCartForCustomer.ofbiz.ws" location="CreateCartForCustomer.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import location="SalesOrderProcessArtifacts.wsdl" namespace="salesorder" 
	        importType="http://schemas.xmlsoap.org/wsdl/" />
         
    <!-- ================================================================= -->         
    <!-- PARTNERLINKS                                                      -->
    <!-- List of services participating in this BPEL process               -->
    <!-- ================================================================= -->         
    <bpel:partnerLinks>
        <!-- The 'client' role represents the requester of this service. -->
        <bpel:partnerLink name="client"
                     partnerLinkType="tns:SalesOrderProcess"
                     myRole="SalesOrderProcessProvider"
                     />
        <bpel:partnerLink name="CreateCartForCustomerServicePL" partnerLinkType="tns:CreateCartForCustomerServicePLT" partnerRole="CreateCartForCustomerServicePLR"></bpel:partnerLink>
        <bpel:partnerLink name="SearchProductServicePL" partnerLinkType="tns:SearchProductServicePLT" partnerRole="SearchProductServicePLR"></bpel:partnerLink>
        <bpel:partnerLink name="GetProductInventoryAvailableServicePL" partnerLinkType="tns:GetProductInventoryAvailableServicePLT" partnerRole="GetProductInventoryAvailableServicePLR"></bpel:partnerLink>
        <bpel:partnerLink name="AddCartItemServicePL" partnerLinkType="tns:AddCartItemServicePLT" partnerRole="AddCartItemServicePLR"></bpel:partnerLink>
    </bpel:partnerLinks>
  
    <!-- ================================================================= -->         
    <!-- VARIABLES                                                         -->
    <!-- List of messages and XML documents used within this BPEL process  -->
    <!-- ================================================================= -->         
    <bpel:variables>
        <!-- Reference to the message passed as input during initiation -->
        <bpel:variable name="input"
                  messageType="tns:SalesOrderProcessRequestMessage"/>
                  
        <!-- 
          Reference to the message that will be returned to the requester
          -->
        <bpel:variable name="output"
                  messageType="tns:SalesOrderProcessResponseMessage"/>
        <bpel:variable name="customerID" type="ns1:string"></bpel:variable>
        <bpel:variable name="firstName" type="ns1:string"></bpel:variable>
        <bpel:variable name="lastName" type="ns1:string"></bpel:variable>
        <bpel:variable name="cartID" type="ns1:string"></bpel:variable>
        <bpel:variable name="CreateCartForCustomerServicePLResponse" messageType="ns:createCartForCustomerResponse"></bpel:variable>
        <bpel:variable name="CreateCartForCustomerServicePLRequest" messageType="ns:createCartForCustomerRequest"></bpel:variable>
        <bpel:variable name="productName" type="ns1:string"></bpel:variable>
        <bpel:variable name="productID" type="ns1:string"></bpel:variable>
        <bpel:variable name="description" type="ns1:string"></bpel:variable>
        <bpel:variable name="inventoryItemID" type="ns1:string"></bpel:variable>
        <bpel:variable name="taxClassID" type="ns1:string"></bpel:variable>
        <bpel:variable name="categoryID" type="ns1:string"></bpel:variable>
        <bpel:variable name="price" type="ns1:string"></bpel:variable>
        <bpel:variable name="InputSearchProductRequest" messageType="tns:searchProductRequest"></bpel:variable>
        <bpel:variable name="OutputSearchProductResponse" messageType="tns:searchProductResponse"></bpel:variable>
        <bpel:variable name="SearchProductServicePLResponse" messageType="ns0:searchProductResponse"></bpel:variable>
        <bpel:variable name="SearchProductServicePLRequest" messageType="ns0:searchProductRequest"></bpel:variable>
        <bpel:variable name="InputGetProductInventoryAvailableRequest" messageType="tns:getProductInventoryAvailableRequest"></bpel:variable>
        <bpel:variable name="OutputGetProductInventoryAvailableResponse" messageType="tns:getProductInventoryAvailableResponse"></bpel:variable>
        <bpel:variable name="GetProductInventoryAvailableServicePLResponse" messageType="ns2:getProductInventoryAvailableResponse"></bpel:variable>
        <bpel:variable name="GetProductInventoryAvailableServicePLRequest" messageType="ns2:getProductInventoryAvailableRequest"></bpel:variable>
        <bpel:variable name="quantity" type="ns1:double"></bpel:variable>
        <bpel:variable name="shipAfterDate" type="ns1:string"></bpel:variable>
        <bpel:variable name="isAvailable" type="ns1:boolean"></bpel:variable>
        <bpel:variable name="InputAddCartItemRequest" messageType="tns:AddCartItemRequest"></bpel:variable>
        <bpel:variable name="OutputAddCartItemResponse" messageType="tns:AddCartItemResponse"></bpel:variable>
        <bpel:variable name="AddCartItemServicePLResponse" messageType="ns3:addCartItemResponse"></bpel:variable>
        <bpel:variable name="AddCartItemServicePLRequest" messageType="ns3:addCartItemRequest"></bpel:variable>
        <bpel:variable name="cartItemSeqID" type="ns1:string"></bpel:variable>
    </bpel:variables>

    <!-- ================================================================= -->         
    <!-- ORCHESTRATION LOGIC                                               -->
    <!-- Set of activities coordinating the flow of messages across the    -->
    <!-- services integrated within this business process                  -->
    <!-- ================================================================= -->         
    <bpel:correlationSets>
        <bpel:correlationSet name="CorrelationSet" properties="tns:property"></bpel:correlationSet>
    </bpel:correlationSets>
    <bpel:sequence name="main">
        
        <!-- Receive input from requester. 
             Note: This maps to operation defined in SalesOrderProcess.wsdl 
             -->
        <bpel:receive name="receiveInputsCreateCartForCustomer" partnerLink="client"
                 portType="tns:SalesOrderProcess"
                 operation="createCartForCustomer" variable="input"
                 createInstance="yes">
            <bpel:correlations>
                <bpel:correlation set="CorrelationSet" initiate="yes"></bpel:correlation>
            </bpel:correlations>
        </bpel:receive>
        
        <!-- Generate reply to synchronous request -->
        <bpel:assign validate="no" name="AssignInputsCreatCartForCustomer">
            <bpel:copy>
                <bpel:from><bpel:literal><impl:createCartForCustomer xmlns:impl="http://createCartForCustomer.ofbiz.ws" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <impl:createCartForCustomerInput>
    <impl:customerId>impl:customerId</impl:customerId>
    <impl:firstName>impl:firstName</impl:firstName>
    <impl:lastName>impl:lastName</impl:lastName>
  </impl:createCartForCustomerInput>
</impl:createCartForCustomer>
</bpel:literal></bpel:from>
                <bpel:to variable="CreateCartForCustomerServicePLRequest" part="parameters"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="payload" variable="input">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:CustomerID]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="customerID"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="payload" variable="input">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:FirstName]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="firstName"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="payload" variable="input">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:LastName]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="lastName"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="customerID"></bpel:from>
                <bpel:to part="parameters" variable="CreateCartForCustomerServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[ns:createCartForCustomerInput/ns:customerId]]></bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="firstName"></bpel:from>
                <bpel:to part="parameters" variable="CreateCartForCustomerServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns:createCartForCustomerInput/ns:firstName]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="lastName"></bpel:from>
                <bpel:to part="parameters" variable="CreateCartForCustomerServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns:createCartForCustomerInput/ns:lastName]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:invoke name="InvokeCreateCartForCustomerService" partnerLink="CreateCartForCustomerServicePL" operation="createCartForCustomer" portType="ns:CreateCartForCustomer" inputVariable="CreateCartForCustomerServicePLRequest" outputVariable="CreateCartForCustomerServicePLResponse"></bpel:invoke>
        <bpel:assign validate="no" name="AssignOutputsCreateCartForCustomer">
            <bpel:copy>
                <bpel:from><bpel:literal><tns:SalesOrderProcessResponse xmlns:tns="salesorder" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:CartID>tns:CartID</tns:CartID>
</tns:SalesOrderProcessResponse>
</bpel:literal></bpel:from>
                <bpel:to variable="output" part="payload"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="CreateCartForCustomerServicePLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns:createCartForCustomerReturn/ns:cartId]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="cartID"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="cartID"></bpel:from>
                <bpel:to part="payload" variable="output">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:CartID]]></bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:reply name="replyOutputCreateCartForCustomer" 
               partnerLink="client"
               portType="tns:SalesOrderProcess"
               operation="createCartForCustomer" 
               variable="output"
               />
        <bpel:receive name="ReceiveInputsSearchProduct" partnerLink="client" operation="searchProduct" portType="tns:SalesOrderProcess" variable="InputSearchProductRequest">
            <bpel:correlations>
                <bpel:correlation set="CorrelationSet" initiate="no"></bpel:correlation>
            </bpel:correlations>
        </bpel:receive>
        <bpel:assign validate="no" name="AssignInputsSearchProduct">
            <bpel:copy>
                <bpel:from><bpel:literal><impl:searchProduct xmlns:impl="http://searchproduct.ofbiz.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <impl:searchProductInput>
    <impl:name>impl:name</impl:name>
  </impl:searchProductInput>
</impl:searchProduct>
</bpel:literal></bpel:from>
                <bpel:to variable="SearchProductServicePLRequest" part="parameters"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="InputSearchProductRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:ProductName]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="productName"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="productName"></bpel:from>
                <bpel:to part="parameters" variable="SearchProductServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns0:searchProductInput/ns0:name]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:invoke name="InvokeSearchProductService" partnerLink="SearchProductServicePL" operation="searchProduct" portType="ns0:SearchProduct" inputVariable="SearchProductServicePLRequest" outputVariable="SearchProductServicePLResponse"></bpel:invoke>
        <bpel:assign validate="no" name="AssignOutputsSearchProductService">
            <bpel:copy>
                <bpel:from><bpel:literal><tns:searchProductResponse xmlns:tns="salesorder" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:ProductID>tns:ProductID</tns:ProductID>
  <tns:Description>tns:Description</tns:Description>
  <tns:InventoryItemID>tns:InventoryItemID</tns:InventoryItemID>
  <tns:TaxClassID>tns:TaxClassID</tns:TaxClassID>
  <tns:CategoryID>tns:CategoryID</tns:CategoryID>
  <tns:Price>tns:Price</tns:Price>
</tns:searchProductResponse>
</bpel:literal></bpel:from>
                <bpel:to variable="OutputSearchProductResponse" part="parameters"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="SearchProductServicePLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns0:searchProductReturn/ns0:productId]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="productID"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="SearchProductServicePLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns0:searchProductReturn/ns0:description]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="description"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="SearchProductServicePLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns0:searchProductReturn/ns0:inventoryItemId]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="inventoryItemID"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="SearchProductServicePLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns0:searchProductReturn/ns0:taxClassId]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="taxClassID"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="SearchProductServicePLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns0:searchProductReturn/ns0:categoryId]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="categoryID"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="SearchProductServicePLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns0:searchProductReturn/ns0:price]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="price"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="productID"></bpel:from>
                <bpel:to part="parameters" variable="OutputSearchProductResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:ProductID]]></bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="description"></bpel:from>
                <bpel:to part="parameters" variable="OutputSearchProductResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:Description]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="inventoryItemID"></bpel:from>
                <bpel:to part="parameters" variable="OutputSearchProductResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:InventoryItemID]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="taxClassID"></bpel:from>
                <bpel:to part="parameters" variable="OutputSearchProductResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:TaxClassID]]></bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="categoryID"></bpel:from>
                <bpel:to part="parameters" variable="OutputSearchProductResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:CategoryID]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="price"></bpel:from>
                <bpel:to part="parameters" variable="OutputSearchProductResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:Price]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:reply name="ReplyOutputsSearchProduct" partnerLink="client" operation="searchProduct" portType="tns:SalesOrderProcess" variable="OutputSearchProductResponse"></bpel:reply>
        <bpel:receive name="ReceiveInputsGetProductInventoryAvailable" partnerLink="client" operation="getProductInventoryAvailable" portType="tns:SalesOrderProcess" variable="InputGetProductInventoryAvailableRequest">
            <bpel:correlations>
                <bpel:correlation set="CorrelationSet" initiate="no"></bpel:correlation>
            </bpel:correlations>
        </bpel:receive>
        <bpel:assign validate="no" name="AssignInputsGetProductInventoryAvailable">
            <bpel:copy>
                <bpel:from><bpel:literal><impl:getProductInventoryAvailable xmlns:impl="http://getProductInventoryAvailable.ofbiz.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <impl:getProductInventoryAvailableInput>
    <impl:productId>impl:productId</impl:productId>
    <impl:inventoryItemId>impl:inventoryItemId</impl:inventoryItemId>
    <impl:shipAfterDate>impl:shipAfterDate</impl:shipAfterDate>
    <impl:quantity>0.0</impl:quantity>
  </impl:getProductInventoryAvailableInput>
</impl:getProductInventoryAvailable>
</bpel:literal></bpel:from>
                <bpel:to variable="GetProductInventoryAvailableServicePLRequest" part="parameters"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="InputGetProductInventoryAvailableRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:Quantity]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="quantity"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="InputGetProductInventoryAvailableRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:ShipAfterDate]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="shipAfterDate"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="productID"></bpel:from>
                <bpel:to part="parameters" variable="GetProductInventoryAvailableServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns2:getProductInventoryAvailableInput/ns2:productId]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="inventoryItemID"></bpel:from>
                <bpel:to part="parameters" variable="GetProductInventoryAvailableServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns2:getProductInventoryAvailableInput/ns2:inventoryItemId]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="shipAfterDate"></bpel:from>
                <bpel:to part="parameters" variable="GetProductInventoryAvailableServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns2:getProductInventoryAvailableInput/ns2:shipAfterDate]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="quantity"></bpel:from>
                <bpel:to part="parameters" variable="GetProductInventoryAvailableServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns2:getProductInventoryAvailableInput/ns2:quantity]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:invoke name="InvokeGetProductInventoryAvailable" partnerLink="GetProductInventoryAvailableServicePL" operation="getProductInventoryAvailable" portType="ns2:GetProductInventoryAvailable" inputVariable="GetProductInventoryAvailableServicePLRequest" outputVariable="GetProductInventoryAvailableServicePLResponse"></bpel:invoke>
        <bpel:assign validate="no" name="AssignOutputsGetProductInventoryAvailable">
            <bpel:copy>
                <bpel:from><bpel:literal><tns:getProductInventoryAvailableResponse xmlns:tns="salesorder" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:IsAvailable>true</tns:IsAvailable>
</tns:getProductInventoryAvailableResponse>
</bpel:literal></bpel:from>
                <bpel:to variable="OutputGetProductInventoryAvailableResponse" part="parameters"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="GetProductInventoryAvailableServicePLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns2:getProductInventoryAvailableReturn/ns2:isAvailable]]>
                    </bpel:query>
                </bpel:from>
                <bpel:to variable="isAvailable"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="isAvailable"></bpel:from>
                <bpel:to part="parameters" variable="OutputGetProductInventoryAvailableResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:IsAvailable]]></bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:reply name="ReplyOutputsGetProductInventoryAvailable" partnerLink="client" operation="getProductInventoryAvailable" portType="tns:SalesOrderProcess" variable="OutputGetProductInventoryAvailableResponse"></bpel:reply>
        <bpel:receive name="ReceiveInputsAddCartItem" partnerLink="client" operation="AddCartItem" portType="tns:SalesOrderProcess" variable="InputAddCartItemRequest">
            <bpel:correlations>
                <bpel:correlation set="CorrelationSet" initiate="no"></bpel:correlation>
            </bpel:correlations>
        </bpel:receive>
        <bpel:assign validate="no" name="AssignInputsAddCartItem">
            
            <bpel:copy>
                <bpel:from><bpel:literal><impl:addCartItem xmlns:impl="http://addcartitem.ofbiz.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <impl:addCartItemInput>
    <impl:cartId>impl:cartId</impl:cartId>
    <impl:customerId>impl:customerId</impl:customerId>
    <impl:productId>impl:productId</impl:productId>
    <impl:inventoryItemId>impl:inventoryItemId</impl:inventoryItemId>
    <impl:taxClassId>impl:taxClassId</impl:taxClassId>
    <impl:categoryId>impl:categoryId</impl:categoryId>
    <impl:shipAfterDate>impl:shipAfterDate</impl:shipAfterDate>
    <impl:quantity>0.0</impl:quantity>
  </impl:addCartItemInput>
</impl:addCartItem>
</bpel:literal></bpel:from>
                <bpel:to variable="AddCartItemServicePLRequest" part="parameters"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="cartID"></bpel:from>
                <bpel:to part="parameters" variable="AddCartItemServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns3:addCartItemInput/ns3:cartId]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="customerID"></bpel:from>
                <bpel:to part="parameters" variable="AddCartItemServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns3:addCartItemInput/ns3:customerId]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="productID"></bpel:from>
                <bpel:to part="parameters" variable="AddCartItemServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns3:addCartItemInput/ns3:productId]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="inventoryItemID"></bpel:from>
                <bpel:to part="parameters" variable="AddCartItemServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns3:addCartItemInput/ns3:inventoryItemId]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="taxClassID"></bpel:from>
                <bpel:to part="parameters" variable="AddCartItemServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns3:addCartItemInput/ns3:taxClassId]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="categoryID"></bpel:from>
                <bpel:to part="parameters" variable="AddCartItemServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns3:addCartItemInput/ns3:categoryId]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="shipAfterDate"></bpel:from>
                <bpel:to part="parameters" variable="AddCartItemServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns3:addCartItemInput/ns3:shipAfterDate]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from variable="quantity"></bpel:from>
                <bpel:to part="parameters" variable="AddCartItemServicePLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[ns3:addCartItemInput/ns3:quantity]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:invoke name="InvokeAddCartItem" partnerLink="AddCartItemServicePL" operation="addCartItem" portType="ns3:AddCartItem" inputVariable="AddCartItemServicePLRequest" outputVariable="AddCartItemServicePLResponse"></bpel:invoke>
        <bpel:assign validate="no" name="AssignOutputsAddCartItem">
            
            
            
            
            <bpel:copy>
                <bpel:from><bpel:literal><tns:AddCartItemResponse xmlns:tns="salesorder" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:CartItemSeqID>tns:CartItemSeqID</tns:CartItemSeqID>
</tns:AddCartItemResponse>
</bpel:literal></bpel:from>
                <bpel:to variable="OutputAddCartItemResponse" part="parameters"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="AddCartItemServicePLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[ns3:addCartItemReturn/ns3:cart_item_seq_id]]></bpel:query>
                </bpel:from>
                <bpel:to part="parameters" variable="OutputAddCartItemResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:CartItemSeqID]]></bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:reply name="ReplyOutputsAddCartItem" partnerLink="client" operation="AddCartItem" portType="tns:SalesOrderProcess" variable="OutputAddCartItemResponse"></bpel:reply>
    </bpel:sequence>
</bpel:process>

